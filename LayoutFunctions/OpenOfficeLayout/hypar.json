{
  "$schema": "https://hypar.io/Schemas/Function.json",
  "id": "bbff6967-22a7-4490-b82c-5e842deaf212",
  "name": "Open Office Layout",
  "display_name": "LJ Override Desk Layout",
  "description": "Lay out desks with optional open collaboration areas distributed throughout.",
  "language": "C#",
  "model_dependencies": [
    {
      "autohide": false,
      "name": "Space Planning Zones",
      "optional": false
    },
    {
      "autohide": false,
      "name": "Structure",
      "optional": true
    },
    {
      "autohide": false,
      "name": "Columns",
      "optional": true
    }
  ],
  "model_output": "Open Office Layout",
  "input_schema": {
    "type": "object",
    "properties": {
      "Grid Rotation": {
        "maximum": 360,
        "default": 0,
        "type": "number",
        "$hyparUnitType": "plane_angle",
        "$hyparOrder": 2,
        "minimum": 0
      },
      "Integrated Collaboration Space Density": {
        "description": "Increase this number to add more distributed collaboration spaces throughout open office areas.",
        "maximum": 1,
        "default": 0.2,
        "type": "number",
        "$hyparOrder": 1,
        "minimum": 0
      },
      "Aisle Width": {
        "maximum": 2,
        "default": 1,
        "type": "number",
        "minimum": 0.5
      },
      "Desk Type": {
        "default": "Simple Desk - 29x70",
        "type": "string",
        "$hyparOrder": 0,
        "enum": [
          "Simple Desk - 24x48",
          "Simple Desk - 30x60",
          "Simple Desk - 29x70",
          "Simple Desk - 30x72",
          "L-Shaped",
          "Double Desk",
          "Enclosed Pair",
          "Custom"
        ]
      },
      "Column Avoidance Strategy": {
        "default": "Adaptive Grid",
        "type": "string",
        "enum":[
          "Adaptive Grid",
          "Cull",
          "None"
        ]
      },
      "Custom Workstation Properties": {
        "type": "object",
        "$hyparOrder": 0.5,
        "$hyparShowIf": {
          "conditions": [
            {
              "property": "Desk Type",
              "value": "Custom"
            }
          ]
        },
        "properties": {
          "Width": {
            "type": "number",
            "$hyparUnitType": "length",
            "minimum": 0.1,
            "default": 2.0
          },
          "Length": {
            "type": "number",
            "$hyparUnitType": "length",
            "minimum": 0.1,
            "default": 2.0
          }
        }
      }
    }
  },
  "overrides": {
    "Desk Rotation": {
      "context": "[*discriminator=Elements.ElementInstance]",
      "identity": {
        "Centroid": {
          "$ref": "https://hypar.io/Schemas/Geometry/Vector3.json"
        }
      },
      "schema": {
        "X Axis Rotation": {
          "maximum": 180,
          "default": 0,
          "type": "number",
          "$hyparUnitType": "plane_angle",
          "minimum": 0
        }
      }
    },
    "Space Settings": {
      "context": "[*discriminator=Elements.SpaceBoundary&Name=DeskArea]",
      "identity": {
        "ParentCentroid": {
          "$ref": "https://hypar.io/Schemas/Geometry/Vector3.json"
        }
      },
      "paradigm": "edit",
      "schema": {
        "Grid Rotation": {
          "maximum": 360,
          "default": 0,
          "type": "number",
          "$hyparUnitType": "plane_angle",
          "minimum": 0
        },
        "Integrated Collaboration Space Density": {
          "description": "Increase this number to add more distributed collaboration spaces throughout open office areas.",
          "maximum": 1,
          "default": 0.2,
          "type": "number",
          "minimum": 0
        },
        "Desk Type": {
          "$hyparOrder": 0,
          "type": "string",
          "enum": [
            "Simple Desk - 24x48",
            "Simple Desk - 30x60",
            "Simple Desk - 29x70",
            "Simple Desk - 30x72",
            "L-Shaped",
            "Double Desk",
            "Enclosed Pair",
            "Custom"
          ],
          "default": "Simple Desk - 29x70"
        },
        "Custom Workstation Properties": {
          "$hyparOrder": 0.5,
          "type": "object",
          "$hyparShowIf": {
            "conditions": [
              {
                "property": "Desk Type",
                "value": "Custom"
              }
            ]
          },
          "properties": {
            "Width": {
              "type": "number",
              "$hyparUnitType": "length",
              "minimum": 0.1,
              "default": 2.0
            },
            "Length": {
              "type": "number",
              "$hyparUnitType": "length",
              "minimum": 0.1,
              "default": 2.0
            }
          }
        }
      },
      "verbs": {
        "edit": null,
        "revert": null
      },
      "default": {}
    },
    "Furniture Locations": {
      "context": "[*discriminator=Elements.ElementInstance]",
      "identity": {
        "OriginalLocation": {
          "$ref": "https://hypar.io/Schemas/Geometry/Vector3.json"
        }
      },
      "paradigm": "edit",
      "schema": {
        "Transform": {
          "$ref": "https://prod-api.hypar.io/schemas/Transform"
        }
      },
      "verbs": {
        "edit": null,
        "revert": null
      }
    }
  },
  "outputs": [
    {
      "unit_type": "none",
      "name": "Total Desk Count",
      "description": "The number of desks.",
      "type": "number"
    }
  ],
  "element_types": [
    "https://prod-api.hypar.io/schemas/SpaceBoundary",
    "https://prod-api.hypar.io/schemas/LevelElements",
    "https://prod-api.hypar.io/schemas/LevelVolume",
    "https://prod-api.hypar.io/schemas/WorkpointCount"
  ],
  "repository_url": "https://github.com/hypar-io/function",
  "default_camera": {
    "named_position": "top",
    "projection": "orthographic"
  }
}